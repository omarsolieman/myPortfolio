"use strict";function e(e){return e&&"object"==typeof e&&"default"in e?e.default:e}Object.defineProperty(exports,"__esModule",{value:!0});var r,s=require("tslib"),t=require("eslint/package.json"),n=require("eslint-mdx"),i=e(require("eslint-plugin-react/lib/rules/no-unescaped-entities")),o=e(require("eslint/lib/rules/no-unused-expressions")),a=e(require("path")),c=e(require("vfile")),l=require("cosmiconfig"),u=e(require("remark-mdx")),m=e(require("remark-parse")),p=e(require("remark-stringify")),d=e(require("unified")),f={parser:"eslint-mdx",plugins:["mdx"]},g=function(e,r){return void 0===r&&(r={}),(Array.isArray(e)?e:Object.keys(e)).reduce((function(e,r){var s;return Object.assign(e,((s={})[r]=!1,s))}),r)};try{r=require("rebass")}catch(e){r=["Box","Flex","Text","Heading","Link","Button","Image","Card"]}var x=s.__assign(s.__assign({},f),{globals:g(r,{React:!1}),rules:{"lines-between-class-members":0,"react/jsx-no-undef":[2,{allowGlobals:!0}],"react/react-in-jsx-scope":0}}),v=+t.version.split(".").slice(0,2).join("."),h=s.__assign(s.__assign({},f),{rules:{"mdx/no-jsx-html-comments":2,"mdx/no-unescaped-entities":1,"mdx/no-unused-expressions":2,"mdx/remark":1,"no-unused-expressions":0,"react/no-unescaped-entities":0}});if(v>=6.4){var y=[{files:"*.mdx",extends:"plugin:mdx/overrides"}];try{require.resolve("prettier"),require.resolve("eslint-plugin-prettier"),y.push({files:"*.md",rules:{"prettier/prettier":[2,{parser:"markdown"}]}})}catch(e){}Object.assign(h,{overrides:y})}var _,b,q=Object.freeze({__proto__:null,base:f,overrides:x,recommended:h}),k={meta:{type:"problem",docs:{description:"Forbid invalid html style comments in jsx block",category:"SyntaxError",recommended:!0},messages:{jsxHtmlComments:"html style comments are invalid in jsx: {{ origin }}"},fixable:"code"},create:function(e){return{ExpressionStatement:function(r){var s=e.parserServices.JSXElementsWithHTMLComments;if(n.JSX_TYPES.includes(r.expression.type)&&"Program"===r.parent.type&&s&&0!==s.length){var t=s.shift();if(!t.data.inline)t.data.comments.forEach((function(s){var t=s.fixed,n=s.loc,i=s.origin;return e.report({messageId:"jsxHtmlComments",data:{origin:i},loc:n,node:r,fix:function(e){return e.replaceTextRange([n.start.offset,n.end.offset],t)}})}))}}}}},S=[{char:">",alternatives:["&gt;"]},{char:'"',alternatives:["&quot;","&ldquo;","&#34;","&rdquo;"]},{char:"'",alternatives:["&apos;","&lsquo;","&#39;","&rsquo;"]},{char:"}",alternatives:["&#125;"]}],j=s.__assign(s.__assign({},i),{create:function(e){var r,s=(e.options[0]||{}).forbid||S;return(r={})["Literal, JSXText"]=function(r){var t=r.parent;if(n.isJsxNode(t)){for(;t&&"Program"!==t.parent.type;)t=t.parent;var i=r.loc,o=i.start,a=o.line,c=o.column,l=i.end,u=l.line,m=l.column,p=e.getSourceCode().lines,d=t.loc.start.line<a?0:p.slice(a-1,u).join("\n").search(n.openTag);d<0&&(d=0);for(var f=function(t){var n=p[t-1],i=0,o=n.length;t===a&&(i=c+d),t===u&&(o=m,t===a&&(o+=d)),n=n.slice(i,o),s.forEach((function(s){for(var o=0;o<n.length;o++){var a=n[o];"string"==typeof s?a===s&&e.report({loc:{line:t,column:i+o},message:"HTML entity, `"+s+"` , must be escaped.",node:r}):a===s.char&&e.report({loc:{line:t,column:i+o},message:"`"+s.char+"` can be escaped with "+s.alternatives.map((function(e){return"``".split("").join(e)})).join(", ")+".",node:r})}}))},g=a;g<=u;g++)f(g)}},r}}),E=s.__assign(s.__assign({},o),{create:function(e){var r=o.create(e);return{ExpressionStatement:function(e){n.isJsxNode(e.expression)&&"Program"===e.parent.type||r.ExpressionStatement(e)}}}}),T=function(e,r,s){s&&/^\.\.?([/\\]|$)/.test(e)&&(e=a.resolve(a.dirname(s),e)),r=r.endsWith("-")?r:r+"-";for(var t,n=0,i=[e,e.startsWith("@")?e.replace("/","/"+r):r+e];n<i.length;n++){var o=i[n];try{return require(o)}catch(e){t||(t=e)}}throw t},I=function(e,r){_||(_=l.cosmiconfigSync("remark",{packageProp:"remarkConfig"}).search),b||(b=d().use(m).freeze());var t=_(e)||{},n=t.config,i=t.filepath,o=n||{},a=o.plugins,c=void 0===a?[]:a,f=o.settings;try{c.push([require.resolve("remark-lint-file-extension"),!1])}catch(e){}var g=b().use({settings:f}).use(p);return r&&g.use(u),c.reduce((function(e,r){var t=Array.isArray(r)?r:[r],n=t[0],o=t.slice(1);return e.use.apply(e,s.__spreadArrays(["string"==typeof n?T(n,"remark",i):n],o))}),g).freeze()},O={meta:{type:"layout",docs:{description:"Linter integration with remark plugins",category:"Stylistic Issues",recommended:!0},messages:{remarkReport:"{{ source }}:{{ ruleId }} - {{ reason }}"},fixable:"code"},create:function(e){var r=e.getFilename(),t=a.extname(r),i=e.getSourceCode(),o=e.parserOptions,l=n.DEFAULT_EXTENSIONS.concat(o.extensions||[]).includes(t),u=n.MARKDOWN_EXTENSIONS.concat(o.markdownExtensions||[]).includes(t);return{Program:function(t){if(l||u){var n=i.getText(t),o=I(r,l),a=c({path:r,contents:n});try{o.processSync(a)}catch(e){a.messages.includes(e)||(a.message(e).fatal=!0)}a.messages.forEach((function(r){var i=r.source,a=r.reason,c=r.ruleId,l=r.location,u=l.start,m=l.end;return e.report({messageId:"remarkReport",data:{reason:a,source:i,ruleId:c},loc:{start:s.__assign(s.__assign({},u),{column:u.column-1}),end:s.__assign(s.__assign({},m),{column:m.column-1})},node:t,fix:function(e){if(null==u.offset)return null;var r=[u.offset,null==m.offset?u.offset+1:m.offset],s=n.slice.apply(n,r),t=o.processSync(s).toString();return e.replaceTextRange(r,s.endsWith("\n")?t:t.slice(0,-1))}})}))}}}}},P={"no-jsx-html-comments":k,"no-unescaped-entities":j,"no-unused-expressions":E,remark:O};exports.configs=q,exports.getGlobals=g,exports.getRemarkProcessor=I,exports.noJsxHtmlComments=k,exports.noUnescapedEntities=j,exports.noUnusedExpressions=E,exports.remark=O,exports.requirePkg=T,exports.rules=P;
